<!DOCTYPE html>

<meta charset="utf-8">
<style>

.node circle {
  cursor: pointer;
  stroke: #3182bd;
  stroke-width: 1.5px;
}

.node text {
  font: 10px sans-serif;
  pointer-events: none;
  text-anchor: middle;
}

line.link {
  fill: none;
  stroke: #9ecae1;
  stroke-width: 1.5px;
}

</style>
<graph></graph>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script>



var graphData = {
 "name": "root",
 "children": [
  {
     "name": "web-langs",
     "children": [
      { 
        "name": "Angular-tmp", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" preserveAspectRatio=\"xMidYMid\">\n" +
				"\t<g transform=\"matrix(1,0,0,1,-128,-128)\">\n" +
          "\t\t<g>\n" +
            "\t\t\t<rect height=\"256\" style=\"fill:rgb(247,223,30);fill-rule:nonzero;\" width=\"256\" x=\"0\" y=\"0\"></rect>\n" +
            "\t\t\t<path d=\"M67.312,213.932L86.903,202.076C90.682,208.777 94.12,214.447 102.367,214.447C110.272,214.447 115.256,211.355 115.256,199.327L115.256,117.529L139.314,117.529L139.314,199.667C139.314,224.584 124.708,235.926 103.398,235.926C84.153,235.926 72.982,225.959 67.311,213.93\" style=\"fill-rule:nonzero;\"></path>\n"+
                "\t\t\t<path d=\"M152.381,211.354L171.969,200.013C177.126,208.434 183.828,214.62 195.684,214.62C205.653,214.62 212.009,209.636 212.009,202.762C212.009,194.514 205.479,191.592 194.481,186.782L188.468,184.203C171.111,176.815 159.597,167.535 159.597,147.945C159.597,129.901 173.345,116.153 194.826,116.153C210.12,116.153 221.118,121.481 229.022,135.4L210.291,147.429C206.166,140.04 201.7,137.119 194.826,137.119C187.78,137.119 183.312,141.587 183.312,147.429C183.312,154.646 187.78,157.568 198.09,162.037L204.104,164.614C224.553,173.379 236.067,182.313 236.067,202.418C236.067,224.072 219.055,235.928 196.2,235.928C173.861,235.928 159.426,225.274 152.381,211.354\" style=\"fill-rule:nonzero;\"></path>\n" +
              "\t\t</g>\n" +
            "\t</g>\n" +
					"</svg>"
 },
      { "name": "Ionic", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g id=\"icon\" transform=\"matrix(2.36297,0,0,2.36297,361.959,216.584)\">\n" +
					  "\t\t<path id=\"Shape\" d=\"M16.442,8.483C12.567,8.483 9.426,11.625 9.426,15.5C9.426,19.375 12.567,22.517 16.442,22.517C20.317,22.517 23.459,19.375 23.459,15.5C23.438,11.625 20.297,8.483 16.442,8.483Z\" style=\"fill:rgb(56,128,255);fill-rule:nonzero;\"/>\n" +
             "\t\t<circle id=\"Oval\" cx=\"26.497\" cy=\"5.907\" r=\"3.205\" style=\"fill:rgb(56,128,255);\"/>\n" +
             "\t\t<path id=\"Shape1\" serif:id=\"Shape\" d=\"M30.434,9.111L30.309,8.818L30.099,9.07C29.576,9.656 28.905,10.117 28.172,10.389L27.963,10.473L28.047,10.682C28.696,12.211 29.01,13.845 29.01,15.5C29.01,22.433 23.376,28.089 16.422,28.089C9.467,28.089 3.854,22.433 3.854,15.5C3.854,8.567 9.488,2.911 16.442,2.911C18.328,2.911 20.129,3.33 21.826,4.126L22.014,4.21L22.098,4.001C22.412,3.268 22.894,2.639 23.522,2.136L23.774,1.927L23.48,1.78C21.281,0.649 18.914,0.063 16.422,0.063C7.938,0.063 1.026,6.975 1.026,15.458C1.026,23.941 7.938,30.853 16.422,30.853C24.905,30.853 31.817,23.941 31.817,15.458C31.817,13.28 31.356,11.143 30.434,9.111Z\" style=\"fill:rgb(56,128,255);fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
					"</svg>"
 },
      { 
        "name": "Javascript", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 20 20\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xml:space=\"preserve\" preserveAspectRatio=\"xMidYMid\">\n" +
				"\t<g transform=\"matrix(1,0,0,1,-128,-128)\">\n" +
          "\t\t<g>\n" +
            "\t\t\t<rect height=\"256\" style=\"fill:rgb(247,223,30);fill-rule:nonzero;\" width=\"256\" x=\"0\" y=\"0\"></rect>\n" +
            "\t\t\t<path d=\"M67.312,213.932L86.903,202.076C90.682,208.777 94.12,214.447 102.367,214.447C110.272,214.447 115.256,211.355 115.256,199.327L115.256,117.529L139.314,117.529L139.314,199.667C139.314,224.584 124.708,235.926 103.398,235.926C84.153,235.926 72.982,225.959 67.311,213.93\" style=\"fill-rule:nonzero;\"></path>\n"+
                "\t\t\t<path d=\"M152.381,211.354L171.969,200.013C177.126,208.434 183.828,214.62 195.684,214.62C205.653,214.62 212.009,209.636 212.009,202.762C212.009,194.514 205.479,191.592 194.481,186.782L188.468,184.203C171.111,176.815 159.597,167.535 159.597,147.945C159.597,129.901 173.345,116.153 194.826,116.153C210.12,116.153 221.118,121.481 229.022,135.4L210.291,147.429C206.166,140.04 201.7,137.119 194.826,137.119C187.78,137.119 183.312,141.587 183.312,147.429C183.312,154.646 187.78,157.568 198.09,162.037L204.104,164.614C224.553,173.379 236.067,182.313 236.067,202.418C236.067,224.072 219.055,235.928 196.2,235.928C173.861,235.928 159.426,225.274 152.381,211.354\" style=\"fill-rule:nonzero;\"></path>\n" +
              "\t\t</g>\n" +
            "\t</g>\n" +
					"</svg>"
 },
      { "name": "Typescript", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g>\n" +
					  "\t\t<rect x=\"0\" y=\"0\" width=\"256\" height=\"256\" style=\"fill:rgb(0,122,204);fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
        "\t<g transform=\"matrix(-1,7.65714e-16,-7.65714e-16,-1,203.269,352.286)\">\n" +
					"\t\t<path d=\"M146.658,223.437L146.739,212.953L113.419,212.953L113.419,118.274L89.851,118.274L89.851,212.953L56.53,212.953L56.53,223.234C56.53,228.923 56.652,233.677 56.814,233.799C56.936,233.961 77.213,234.043 101.797,234.002L146.536,233.88L146.658,223.437Z\" style=\"fill:white;fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
				"\t<g transform=\"matrix(1,0,0,-1,0,352.38)\">\n" +
					"\t\t<path d=\"M206.567,234.272C213.068,232.647 218.026,229.762 222.577,225.048C224.934,222.529 228.428,217.937 228.713,216.84C228.794,216.515 217.66,209.038 210.915,204.852C210.671,204.69 209.696,205.746 208.598,207.372C205.307,212.167 201.853,214.239 196.57,214.605C188.809,215.133 183.811,211.07 183.852,204.284C183.852,202.292 184.136,201.114 184.949,199.489C186.656,195.953 189.825,193.84 199.781,189.533C218.107,181.65 225.949,176.449 230.826,169.053C236.271,160.804 237.49,147.638 233.792,137.845C229.729,127.199 219.651,119.966 205.469,117.569C201.081,116.797 190.678,116.918 185.965,117.772C175.684,119.6 165.932,124.68 159.918,131.344C157.561,133.945 152.969,140.731 153.254,141.218C153.376,141.381 154.432,142.031 155.61,142.722C156.748,143.372 161.056,145.851 165.119,148.207L172.474,152.474L174.018,150.198C176.172,146.907 180.885,142.397 183.73,140.893C191.897,136.586 203.113,137.195 208.639,142.153C210.996,144.306 211.971,146.541 211.971,149.833C211.971,152.799 211.605,154.099 210.061,156.334C208.07,159.179 204.007,161.576 192.466,166.574C179.26,172.263 173.571,175.798 168.37,181.406C165.363,184.657 162.518,189.858 161.34,194.206C160.365,197.823 160.121,206.884 160.893,210.541C163.616,223.301 173.246,232.2 187.143,234.841C191.654,235.694 202.137,235.369 206.567,234.272Z\" style=\"fill:white;fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
					"</svg>"
 },
      { "name": "Node" }
   ],
  },
  {
     "name": "smartphone-langs",
     "children": [
      { "name": "Android", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g>\n" +
					"\t\t<path d=\"M78.389,0.858C76.985,0.872 75.527,1.211 74.199,1.947C69.981,4.285 68.434,9.704 70.771,13.919L80.294,31.115C57.35,45.311 42.147,69.558 42.147,97.233C42.147,97.349 42.146,97.523 42.147,97.695C42.147,97.756 42.146,97.79 42.147,97.858L42.147,102.375C37.74,97.305 31.263,94.104 24.026,94.104C10.767,94.104 0,104.87 0,118.129L0,192.138C0,205.396 10.767,216.163 24.026,216.163C31.263,216.163 37.74,212.961 42.147,207.891L42.147,218.258C42.147,232.235 53.583,243.671 67.56,243.671L74.008,243.671L74.008,276.594C74.008,289.853 84.775,300.62 98.034,300.62C111.293,300.62 122.059,289.853 122.059,276.594L122.059,243.671L133.215,243.671L133.215,276.594C133.215,289.853 143.982,300.62 157.241,300.62C170.5,300.62 181.266,289.853 181.266,276.594L181.266,243.671L187.715,243.671C201.691,243.671 213.128,232.235 213.128,218.258L213.128,207.891C217.534,212.961 224.012,216.163 231.249,216.163C244.508,216.163 255.274,205.396 255.274,192.138L255.274,118.129C255.274,104.87 244.508,94.104 231.249,94.104C224.012,94.104 217.534,97.305 213.128,102.375L213.128,98.103C213.128,97.972 213.128,97.842 213.128,97.858C213.13,97.598 213.128,97.39 213.128,97.233C213.128,69.563 197.89,45.339 174.954,31.142L184.504,13.919C186.84,9.704 185.293,4.285 181.076,1.947C179.748,1.211 178.29,0.872 176.885,0.858C173.771,0.829 170.714,2.47 169.104,5.375L159.118,23.415C149.354,19.812 138.73,17.837 127.637,17.837C116.556,17.837 105.912,19.791 96.156,23.387L86.171,5.375C84.56,2.47 81.504,0.829 78.389,0.858Z\" style=\"fill:white;fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M24.026,100.362C14.132,100.362 6.259,108.235 6.259,118.129L6.259,192.138C6.259,202.032 14.132,209.905 24.026,209.905C33.92,209.905 41.794,202.032 41.794,192.138L41.794,118.129C41.794,108.235 33.92,100.362 24.026,100.362ZM231.25,100.362C221.355,100.362 213.482,108.235 213.482,118.129L213.482,192.138C213.482,202.032 221.355,209.905 231.25,209.905C241.144,209.905 249.017,202.032 249.017,192.138L249.017,118.129C249.017,108.235 241.144,100.362 231.25,100.362Z\" style=\"fill:rgb(164,198,57);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M98.034,184.818C88.14,184.818 80.266,192.691 80.266,202.586L80.266,276.594C80.266,286.488 88.14,294.361 98.034,294.361C107.928,294.361 115.801,286.488 115.801,276.594L115.801,202.586C115.801,192.691 107.928,184.818 98.034,184.818ZM157.241,184.818C147.346,184.818 139.473,192.691 139.473,202.586L139.473,276.594C139.473,286.488 147.346,294.361 157.241,294.361C167.135,294.361 175.008,286.488 175.008,276.594L175.008,202.586C175.008,192.691 167.135,184.818 157.241,184.818Z\" style=\"fill:rgb(164,198,57);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M98.034,184.818C88.14,184.818 80.266,192.691 80.266,202.586L80.266,276.594C80.266,286.488 88.14,294.361 98.034,294.361C107.928,294.361 115.801,286.488 115.801,276.594L115.801,202.586C115.801,192.691 107.928,184.818 98.034,184.818ZM157.241,184.818C147.346,184.818 139.473,192.691 139.473,202.586L139.473,276.594C139.473,286.488 147.346,294.361 157.241,294.361C167.135,294.361 175.008,286.488 175.008,276.594L175.008,202.586C175.008,192.691 167.135,184.818 157.241,184.818Z\" style=\"fill:rgb(164,198,57);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M78.443,7.117C78.023,7.121 77.632,7.229 77.246,7.443C75.979,8.145 75.563,9.601 76.267,10.871L88.783,33.482C64.702,46.012 48.437,69.823 48.405,97.151L206.87,97.151C206.837,69.823 190.572,46.012 166.492,33.482L179.008,10.871C179.712,9.601 179.295,8.145 178.028,7.443C177.642,7.229 177.251,7.121 176.831,7.117C175.932,7.108 175.08,7.557 174.6,8.423L161.921,31.278C151.548,26.677 139.914,24.095 127.637,24.095C115.36,24.095 103.726,26.677 93.354,31.278L80.675,8.423C80.195,7.557 79.343,7.108 78.443,7.117ZM48.405,103.409L48.405,218.258C48.405,228.87 56.948,237.413 67.56,237.413L187.715,237.413C198.327,237.413 206.87,228.87 206.87,218.258L206.87,103.409L48.405,103.409Z\" style=\"fill:rgb(164,198,57);fill-rule:nonzero;\"/>\n" +

          "\t\t<path d=\"M91.068,54.923C87.451,54.923 84.456,57.917 84.456,61.534C84.456,65.152 87.451,68.146 91.068,68.146C94.686,68.146 97.68,65.152 97.68,61.534C97.68,57.917 94.686,54.923 91.068,54.923ZM164.206,54.923C160.588,54.923 157.594,57.917 157.594,61.534C157.594,65.152 160.588,68.146 164.206,68.146C167.823,68.146 170.818,65.152 170.818,61.534C170.818,57.917 167.823,54.923 164.206,54.923Z\" style=\"fill:white;fill-rule:nonzero;\"/>\n" +
					
        "\t</g>\n" +
					"</svg>"
 },
      { "name": "Kotlin", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g>\n" +
					"\t\t<path d=\"M0,219.978L0,220.933C0,244.346 18.873,263.219 42.286,263.219C65.698,263.219 84.572,244.346 84.572,220.933L84.572,174.347L0,219.978Z\" style=\"fill:rgb(73,113,169);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M255.673,220.217C254.957,211.138 251.134,202.777 244.684,196.326L244.684,196.087L168.713,128.956L94.891,168.614L190.214,253.424C197.381,259.636 206.459,262.98 216.015,262.98C217.21,262.98 218.404,262.98 219.36,262.742C229.872,261.786 239.428,256.769 246.117,248.885C253.284,241.001 256.39,230.728 255.673,220.217Z\" style=\"fill:rgb(73,113,169);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M84.572,48.206L84.572,42.711C84.572,19.299 65.46,0.426 42.286,0.426C18.873,0.426 0,19.299 0,42.711L0,94.554L84.572,48.206Z\" style=\"fill:rgb(73,113,169);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M0,112.71L197.573,4.965C203.307,1.859 209.757,0.426 216.208,0.426C220.269,0.426 224.33,1.142 228.392,2.337C249.176,9.026 260.405,31.244 253.715,52.029C250.849,60.629 245.354,68.035 237.709,73.052L237.709,73.291L235.32,74.725L0,201.821L0,112.71Z\" style=\"fill:rgb(245,138,31);fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
					"</svg>"
 },
      { "name": "Java", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g>\n" +
					"\t\t<path d=\"M82.554,267.473C82.554,267.473 69.356,275.148 91.947,277.745C119.316,280.867 133.303,280.42 163.464,274.711C163.464,274.711 171.393,279.683 182.467,283.99C114.856,312.967 29.448,282.311 82.554,267.473\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M74.292,229.659C74.292,229.659 59.489,240.617 82.097,242.955C111.333,245.971 134.421,246.218 174.373,238.525C174.373,238.525 179.899,244.127 188.588,247.191C106.841,271.095 15.79,249.076 74.292,229.659\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M143.942,165.515C160.601,184.695 139.565,201.955 139.565,201.955C139.565,201.955 181.866,180.118 162.439,152.772C144.295,127.271 130.38,114.6 205.707,70.914C205.707,70.914 87.469,100.444 143.942,165.515\" style=\"fill:rgb(231,111,0);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M233.364,295.442C233.364,295.442 243.131,303.489 222.607,309.715C183.581,321.538 60.175,325.108 25.893,310.186C13.57,304.825 36.68,297.385 43.949,295.824C51.53,294.18 55.863,294.487 55.863,294.487C42.158,284.832 -32.72,313.444 17.829,321.637C155.682,343.993 269.121,311.571 233.364,295.442\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M88.901,190.48C88.901,190.48 26.129,205.389 66.672,210.803C83.79,213.095 117.915,212.577 149.702,209.913C175.68,207.722 201.765,203.063 201.765,203.063C201.765,203.063 192.605,206.986 185.978,211.511C122.234,228.276 -0.908,220.477 34.543,203.328C64.524,188.836 88.901,190.48 88.901,190.48\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M201.506,253.422C266.305,219.75 236.345,187.392 215.433,191.751C210.307,192.818 208.022,193.743 208.022,193.743C208.022,193.743 209.925,190.762 213.559,189.472C254.929,174.927 286.746,232.369 200.204,255.119C200.204,255.12 201.207,254.224 201.506,253.422\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M162.439,0.371C162.439,0.371 198.326,36.27 128.402,91.472C72.331,135.754 115.616,161.002 128.379,189.849C95.649,160.318 71.63,134.323 87.744,110.128C111.395,74.613 176.918,57.394 162.439,0.371\" style=\"fill:rgb(231,111,0);fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M95.268,344.665C157.467,348.647 252.98,342.456 255.242,313.026C255.242,313.026 250.894,324.183 203.838,333.043C150.75,343.033 85.274,341.867 46.439,335.464C46.44,335.463 54.389,342.044 95.268,344.665\" style=\"fill:rgb(83,130,161);fill-rule:nonzero;\"/>\n" +
        "\t</g>\n" +
					"</svg>"
 },      { "name": "Ios", "size": 0, "body":"<svg width=\"20px\" height=\"20px\" viewBox=\"0 0 256 301\" x=\"-10\" y=\"-10\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\">\n" +
					"\t<g>\n" +
					"\t\t<path d=\"M9.464,13.264C9.464,16.066 7.758,18.139 4.831,18.139C2.394,18.139 0.565,16.066 0.565,13.264C0.565,10.581 2.515,8.388 5.075,8.388C7.758,8.388 9.464,10.581 9.464,13.264ZM2.718,159.768L2.718,47.701L7.311,47.701L7.311,159.768L2.718,159.768Z\" style=\"fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M160.1,79.921C160.1,136.421 128.735,162.103 94.403,162.103C59.331,162.103 30.929,134.322 30.929,82.257C30.929,28.794 60.32,0.075 96.872,0.075C132.684,0.073 160.1,28.323 160.1,79.921ZM35.584,81.088C35.584,123.928 56.347,157.208 94.62,157.208C133.159,157.208 155.263,122.904 155.263,80.601C155.263,41.371 137.552,5.57 97.137,5.57C56.721,5.57 35.584,39.278 35.584,81.088Z\" style=\"fill-rule:nonzero;\"/>\n" +
					"\t\t<path d=\"M176.959,147.625C184.666,152.762 197.968,157.722 209.408,157.722C231.121,157.722 250.431,142.532 250.431,120.174C250.431,99.426 237.568,88.6 215.728,79.3C196.182,70.977 178.608,61.943 178.608,39.763C178.608,16.652 196.817,0.307 221.565,0.307C234.873,0.307 244.912,4.042 249.582,7.311L247.724,11.341C243.755,8.542 233.03,4.974 221.358,4.974C195.203,4.974 183.81,24.737 183.81,39.286C183.81,59.381 199.387,66.101 219.466,75.673C242.813,87.113 255.185,97.198 255.185,119.146C255.185,142.727 238.377,161.869 208.493,161.869C196.116,161.869 181.877,157.667 174.873,152.297L176.959,147.625Z\" style=\"fill-rule:nonzero;\"/>\n" +
					
        "\t</g>\n" +
					"</svg>"
 },
   ],
  }
 ]
};
 

var width = 590,
    height = 178,
    root;

var force = d3.layout.force()
    .linkStrength(5)
    .friction(0.7)
    .theta(0.8)
    .alpha(0.1)
    .linkDistance(55)
    .charge(-1800)
    .gravity(.25)
    .size([width, height])
    .on("tick", tick);

var svg = d3.select("graph").append("svg")
    .attr("width", width)
    .attr("height", height);

var link = svg.selectAll(".link"),
    node = svg.selectAll(".node");

root = graphData;
update();

function update() {
  var nodes = flatten(root),
      links = d3.layout.tree().links(nodes);

  // Restart the force layout.
  force.nodes(nodes)
       .links(links)
       .start();

  // Update links.
  link = link.data(links, function(d) { return d.target.id; });

  link.exit().remove();

  link.enter().insert("line", ".node")
      .attr("class", "link");

  // Update nodes.
  node = node.data(nodes, function(d) { return d.id; });

  node.exit().remove();

  var nodeEnter = node.enter().append("g")
      .attr("class", "node")
      .on("click", click)
      .call(force.drag);

  nodeEnter.append("circle")
      .attr("r", function(d) { return Math.sqrt(d.size) / 2 || 4.5; });

  var nodeGForHtml = nodeEnter.append("g")

nodeGForHtml.html(function(d) {
    return d.body;
});
    
  node.select("circle")
      .style("fill", color);
}

function tick() {
  link.attr("x1", function(d) { return d.source.x; })
      .attr("y1", function(d) { return d.source.y; })
      .attr("x2", function(d) { return d.target.x; })
      .attr("y2", function(d) { return d.target.y; });

  node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
}

function color(d) {
  return d._children ? "#3182bd" // collapsed package
      : d.children ? "#c6dbef" // expanded package
      : "#fd8d3c"; // leaf node
}

// Toggle children on click.
function click(d) {
  if (d3.event.defaultPrevented) return; // ignore drag
  if (d.children) {
    d._children = d.children;
    d.children = null;
  } else {
    d.children = d._children;
    d._children = null;
  }
  update();
}

// Returns a list of all nodes under the root.
function flatten(root) {
  var nodes = [], i = 0;

  function recurse(node) {
    if (node.children) node.children.forEach(recurse);
    if (!node.id) node.id = ++i;
    nodes.push(node);
  }

  recurse(root);
  return nodes;
}

</script>
